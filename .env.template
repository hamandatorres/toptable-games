# ===========================================
# SECURITY ENVIRONMENT CONFIGURATION
# ===========================================
# 
# CRITICAL: This file contains sensitive information
# - Never commit this file to version control
# - Use strong, unique values for each environment
# - Rotate secrets regularly in production
# 
# ===========================================

# Application Environment
NODE_ENV=development
SERVER_PORT=4050

# ===========================================
# DATABASE SECURITY
# ===========================================
# Use strong database credentials
# Connection string should include SSL in production
CONNECTION_STRING=postgresql://username:password@localhost:5432/database_name?sslmode=require

# Database Configuration (for Docker)
POSTGRES_DB=toptable_games_secure
POSTGRES_USER=ttg_user
POSTGRES_PASSWORD=

# Database Connection Pool Settings (security)
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# ===========================================
# SESSION & AUTHENTICATION SECURITY
# ===========================================
# Must be cryptographically strong (256+ bits)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=

# Session Security Settings
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

# JWT Configuration (if implementing JWT)
JWT_SECRET=
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# RATE LIMITING & SECURITY
# ===========================================
# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_WINDOW=900000

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ===========================================
# EMAIL SECURITY (Password Reset)
# ===========================================
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=
EMAIL_PASSWORD=
EMAIL_FROM_NAME=TopTable Games
EMAIL_FROM_ADDRESS=

# ===========================================
# EXTERNAL API SECURITY
# ===========================================
# Board Game Atlas API (if used)
BGA_CLIENT_ID=
BGA_CLIENT_SECRET=

# ===========================================
# ENCRYPTION & HASHING
# ===========================================
# bcrypt rounds (12+ for production)
BCRYPT_ROUNDS=12

# Password reset token settings
RESET_TOKEN_EXPIRES=3600000
RESET_TOKEN_LENGTH=32

# ===========================================
# LOGGING & MONITORING
# ===========================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ===========================================
# REDIS SECURITY (if used)
# ===========================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_TLS=false

# ===========================================
# FILE UPLOAD SECURITY
# ===========================================
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif
UPLOAD_PATH=./uploads

# ===========================================
# PRODUCTION SECURITY HEADERS
# ===========================================
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_CONTENT_TYPE_NO_SNIFF=true
SECURITY_FRAME_OPTIONS=DENY
SECURITY_XSS_PROTECTION=true
